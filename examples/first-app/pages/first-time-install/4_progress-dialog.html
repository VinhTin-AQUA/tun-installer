<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Test Installer - Installing</title>

        <style>
            html,
            body {
                margin: 0;
                width: 100%;
                height: 100%;
                overflow: hidden;
            }

            body {
                font-family: 'Segoe UI', Arial, sans-serif;
                background: linear-gradient(135deg, #4f46e5, #6366f1);
                display: flex;
                align-items: center;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <div
            style="
                width: 720px;
                height: 400px;
                background: #ffffff;
                border-radius: 16px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
                padding: 40px;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
            "
        >
            <!-- Header -->
            <div style="display: flex; align-items: center">
                <div
                    style="
                        width: 64px;
                        height: 64px;
                        border-radius: 14px;
                        background: #4f46e5;
                        color: #ffffff;
                        font-size: 28px;
                        font-weight: bold;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin-right: 20px;
                    "
                >
                    TI
                </div>

                <div>
                    <h1 style="margin: 0; font-size: 28px; color: #111827">
                        Installing Test Installer
                    </h1>
                    <p style="margin: 6px 0 0; color: #6b7280">Version 1.0.0</p>
                </div>
            </div>

            <!-- Content -->
            <div>
                <p style="font-size: 16px; color: #374151; margin-bottom: 20px">
                    Please wait while Test Installer is being installed on your computer.
                </p>

                <!-- Progress Bar -->
                <div
                    style="
                        width: 100%;
                        height: 16px;
                        background: #e5e7eb;
                        border-radius: 8px;
                        overflow: hidden;
                    "
                >
                    <div
                        id="process"
                        style="
                            width: 0%;
                            height: 100%;
                            background: linear-gradient(90deg, #4f46e5, #6366f1);
                        "
                    ></div>
                </div>

                <p id="log" style="margin-top: 12px; font-size: 14px; color: #6b7280">
                    Progress: 0%
                </p>
            </div>

            <!-- Footer -->
            <div>
                <p style="font-size: 14px; color: #9ca3af">
                    Do not close this window during installation.
                </p>
            </div>
        </div>

        <script>
            window.initApp = function () {
                console.log('Init:', window.App.data);
            };

            window.render = function (data) {
                const el = document.getElementById('log');

                if (!el) {
                    return;
                }

                // el.innerText = `Copying files... ${data.progress}%`;
                el.innerText = `Progress: ${data.progress}%`;

                const process = document.getElementById('process');
                process.style.width = `${data.progress}%`;
            };

            // window.addEventListener('message', (e) => {
            //     console.log(e.data.data);
            // });
        </script>
    </body>
</html>
