<div class="">
    <div class="mx-auto p-6 bg-white rounded-xl shadow space-y-6">
        <h2 class="text-xl font-semibold text-gray-800">
            {{ 'main.productDetails.title' | translate }}
        </h2>

        <!-- Text Inputs -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="input-group">
                <label class="input-label">
                    {{ 'main.productDetails.installationLocation' | translate }}
                </label>
                <input
                    [value]="
                        `${installerPropertyDataForm.installationLocation().value()}\\${installerPropertyDataForm.publisher().value()}\\${installerPropertyDataForm.productName().value()}`
                    "
                    readonly
                    class="input"
                    placeholder="C:/Program Files"
                />

                @if (
                    installerPropertyDataForm.installationLocation().touched() &&
                    installerPropertyDataForm.installationLocation().invalid()
                ) {
                    <div class="text-(--color-error)">
                        @for (
                            error of installerPropertyDataForm.installationLocation().errors();
                            track error
                        ) {
                            <p>{{ error.message }}</p>
                        }
                    </div>
                }
            </div>

            <div class="input-group">
                <label class="input-label">
                    {{ 'main.productDetails.productName' | translate }}
                </label>
                <input
                    [formField]="installerPropertyDataForm.productName"
                    class="input"
                    placeholder="Your App"
                />

                @if (
                    installerPropertyDataForm.productName().touched() &&
                    installerPropertyDataForm.productName().invalid()
                ) {
                    <div class="text-(--color-error)">
                        @for (
                            error of installerPropertyDataForm.productName().errors();
                            track error
                        ) {
                            <p>{{ error.message }}</p>
                        }
                    </div>
                }
            </div>

            <div class="input-group">
                <label class="input-label">
                    {{ 'main.productDetails.icon' | translate }}
                </label>
                <input
                    [formField]="installerPropertyDataForm.icon"
                    class="input"
                    placeholder="icon.ico"
                />
            </div>

            <div class="input-group">
                <label class="input-label">
                    {{ 'main.productDetails.productVersion' | translate }}
                </label>
                <input
                    [formField]="installerPropertyDataForm.productVersion"
                    class="input"
                    placeholder="1.0.0"
                />

                @if (
                    installerPropertyDataForm.productVersion().touched() &&
                    installerPropertyDataForm.productVersion().invalid()
                ) {
                    <div class="text-(--color-error)">
                        @for (
                            error of installerPropertyDataForm.productVersion().errors();
                            track error
                        ) {
                            <p>{{ error.message }}</p>
                        }
                    </div>
                }
            </div>

            <div class="input-group">
                <label class="input-label">
                    {{ 'main.productDetails.publisher' | translate }}
                </label>
                <input
                    [formField]="installerPropertyDataForm.publisher"
                    class="input"
                    placeholder="Your company"
                />

                @if (
                    installerPropertyDataForm.publisher().touched() &&
                    installerPropertyDataForm.publisher().invalid()
                ) {
                    <div class="text-(--color-error)">
                        @for (
                            error of installerPropertyDataForm.publisher().errors();
                            track error
                        ) {
                            <p>{{ error.message }}</p>
                        }
                    </div>
                }
            </div>

            <div class="input-group">
                <label class="input-label">
                    {{ 'main.productDetails.supportLink' | translate }}
                </label>
                <input
                    [formField]="installerPropertyDataForm.supportLink"
                    class="input"
                    placeholder="https://example.com"
                />
            </div>

            <div class="input-group">
                <label class="input-label">
                    {{ 'main.productDetails.supportEmail' | translate }}
                </label>
                <input
                    [formField]="installerPropertyDataForm.supportEmail"
                    class="input"
                    placeholder="example@gmail.com"
                />
            </div>

            <div class="input-group">
                <label class="input-label">
                    {{ 'main.productDetails.launchFile' | translate }}
                </label>
                <input
                    [formField]="installerPropertyDataForm.launchFile"
                    class="input"
                    placeholder="yourapp.exe"
                />

                @if (
                    installerPropertyDataForm.launchFile().touched() &&
                    installerPropertyDataForm.launchFile().invalid()
                ) {
                    <div class="text-(--color-error)">
                        @for (
                            error of installerPropertyDataForm.launchFile().errors();
                            track error
                        ) {
                            <p>{{ error.message }}</p>
                        }
                    </div>
                }
            </div>
        </div>

        <!-- Comment -->
        <div class="textarea-group">
            <label class="textarea-label">
                {{ 'main.productDetails.comment' | translate }}
            </label>
            <textarea
                [formField]="installerPropertyDataForm.comment"
                rows="3"
                class="textarea"
            ></textarea>
        </div>

        <!-- Run as admin -->
        <div>
            <label class="checkbox">
                <input type="checkbox" [formField]="installerPropertyDataForm.runAsAdmin" />
                <span class="checkbox-box"></span>
                <span class="checkbox-label">
                    {{ 'main.productDetails.runAsAdmin' | translate }}
                </span>
            </label>
        </div>

        <!-- Shortcut -->
        <div class="flex flex-col gap-4">
            <div class="border border-gray-200 rounded-lg p-4 space-y-3">
                <label class="checkbox">
                    <input
                        type="checkbox"
                        [formField]="installerPropertyDataForm.shortcutInDesktop.isCreated"
                    />
                    <span class="checkbox-box"></span>
                    <span class="checkbox-label">
                        {{ 'main.productDetails.createShortcutDesktop' | translate }}
                    </span>
                </label>

                @if (installerPropertyDataForm.shortcutInDesktop().value().isCreated) {
                    <div class="ml-6 space-y-3">
                        <label class="checkbox">
                            <input
                                type="checkbox"
                                [formField]="installerPropertyDataForm.shortcutInDesktop.runAsAdmin"
                            />
                            <span class="checkbox-box"></span>
                            <span class="checkbox-label">
                                {{ 'main.productDetails.shortcutRunAsAdmin' | translate }}
                            </span>
                        </label>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <input
                                type="text"
                                [formField]="
                                    installerPropertyDataForm.shortcutInDesktop.shortcutName
                                "
                                [placeholder]="'main.productDetails.shortcutNamePlaceholder' | translate"
                                class="input input-bordered w-full"
                            />

                            <datalist id="listFiles">
                                @for (n of resourceFiletore.getAll(); track $index) {
                                    <option [value]="n.name">{{ n.name }}</option>
                                }
                            </datalist>
                        </div>
                    </div>
                }
            </div>
        </div>

        <!-- Submit -->
        <div class="text-right">
            <button
                (click)="onSaveInstallerConfig()"
                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
            >
                {{ 'main.productDetails.save' | translate }}
            </button>
        </div>
    </div>
</div>
